 They are not producing energy; their movement is a result of the work you've put during setting same poles to face each other. They will eventually stop, since this energy is dissipated by friction on their fixings and at some point their momentum will decrease to the point it will be not enough to push the system through energy pick when the same poles are nearby. After this, they will relax to their energy optimum, so probably into configuration when different poles are facing each other. 
